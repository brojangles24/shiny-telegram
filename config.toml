# config.toml for Singularity DNS Blocklist Aggregator (v5.8.4)
# This file centralizes all settings from the Python script.

[main]
# (From argparse) Default cap for the priority list
priority_cap = 300000
# (From argparse) Output format: 'raw' (Unbound) or 'hosts' (Pi-hole)
output_format = "raw"

[paths]
# (From argparse) Main output directory
output_dir = "Aggregated_list"
# (Derived from constant) Subdirectory for archives
archive_dir_name = "archive"

# (Constants) Output filenames
priority_filename = "priority_300k.txt"
regex_tld_filename = "regex_hagezi_tlds.txt"
unfiltered_filename = "aggregated_full.txt"
history_filename = "history.csv"
report_filename = "metrics_report.md"
dashboard_html = "dashboard_html_removed.html"
verbose_exclusion_file = "excluded_domains_report.csv"
metrics_cache_file = "metrics_cache.json"

[network]
# (From argparse) Max concurrent fetch workers
max_workers = 8
# (Constant) Max retries for a failed list fetch
max_fetch_retries = 3

[robustness]
# (Constant) Days to keep old cache/history files
cache_cleanup_days = 30
# (From argparse) Max size of the archive folder in MB
archive_limit_mb = 50

[tlds]
# (Constant) Default URL for Hagezi's abused TLD list
hagezi_abused_tlds_url = "https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@latest/wildcard/spam-tlds-onlydomains.txt"
# (From argparse) Set to 'true' to disable fetching the Hagezi list
no_hagezi_tlds = false
# (From argparse) Path to a custom file of TLDs to block (leave blank if unused)
custom_tld_file = [] # e.g., "my_custom_tlds.txt"

# (From main()) Custom TLDs to add to the blocklist
# This replaces the `my_custom_tlds = []` list in the script.
# The script logic to merge/replace can be simplified to just use this list.
custom_block_tlds = []

[scoring]
# (Constant) Weighted score threshold for "High Consensus"
consensus_threshold = 6

# (Constant) Weights applied to each source
[scoring.weights]
HAGEZI_ULTIMATE = 4
"1HOSTS_LITE" = 3
OISD_BIG = 2
ANUDEEP_ADSERVERS = 2
ADAWAY_HOSTS = 2
STEVENBLACK_HOSTS = 1
ADGUARD_BASE = 3

[sources]
# (Constant) The blocklist sources to aggregate
HAGEZI_ULTIMATE = "https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@latest/wildcard/ultimate-onlydomains.txt"
OISD_BIG = "https://raw.githubusercontent.com/sjhgvr/oisd/refs/heads/main/domainswild2_big.txt"
"1HOSTS_LITE" = "https://raw.githubusercontent.com/badmojr/1Hosts/refs/heads/master/Lite/domains.wildcards"
STEVENBLACK_HOSTS = "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts"
ANUDEEP_ADSERVERS = "https://raw.githubusercontent.com/anudeepND/blacklist/master/adservers.txt"
ADAWAY_HOSTS = "https://adaway.org/hosts.txt"
ADGUARD_BASE = "https://filters.adtidy.org/extension/chromium/filters/15.txt"

[metadata]
# (Constant) Categories for reporting
[metadata.categories]
HAGEZI_ULTIMATE = "Aggregated/Wildcard"
OISD_BIG = "Aggregated/Wildcard"
"1HOSTS_LITE" = "Aggregated/Wildcard"
STEVENBLACK_HOSTS = "Hosts File (Legacy)"
ANUDEEP_ADSERVERS = "Specialized (Ads)"
ADAWAY_HOSTS = "Specialized (Ads)"
ADGUARD_BASE = "ABP Rule List"

# (Constant) Colors for reporting
[metadata.colors]
HAGEZI_ULTIMATE = "#d62728"
OISD_BIG = "#1f77b4"
"1HOSTS_LITE" = "#2ca02c"
STEVENBLACK_HOSTS = "#ff7f0e"
ANUDEEP_ADSERVERS = "#9467bd"
ADAWAY_HOSTS = "#8c564b"
ADGUARD_BASE = "#17becf"

# (Constant) Characters for ASCII sparkline
sparkline_chars = " ▂▃▄▅▆▇█"
